---
import '../styles/global.css';
import ParticlesBg from '../components/ParticlesBg.astro';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Pratham Sarawad - Computer Science Student & Tech Enthusiast" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
        
        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
        
		<title>{title}</title>
	</head>
	<body class="bg-background text-white relative flex flex-col min-h-screen overflow-x-hidden selection:bg-primary/30 selection:text-primary">
        
        <!-- Interactive Spotlight -->
        <div id="spotlight" class="pointer-events-none fixed inset-0 z-30 transition-opacity duration-300 opacity-0" style="background: radial-gradient(600px circle at var(--x) var(--y), rgba(0, 195, 255, 0.06), transparent 80%);"></div>

        <!-- Professional Dot Grid Background -->
        <div class="fixed inset-0 z-0 pointer-events-none bg-[radial-gradient(#1a2c42_1px,transparent_1px)] bg-[length:20px_20px] opacity-30"></div>

        <!-- Noise Texture Overlay -->
        <div class="fixed inset-0 pointer-events-none z-50 opacity-[0.03] mix-blend-overlay" style="background-image: url(&quot;data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E&quot;);"></div>
        
        <!-- Background Particles -->
        <div class="fixed inset-0 z-0 pointer-events-none">
             <ParticlesBg />
        </div>
        
		<slot />

        <script>
            // Mouse Spotlight Effect
            const spotlight = document.getElementById('spotlight');
            if (spotlight) {
                document.addEventListener('mousemove', (e) => {
                    spotlight.style.opacity = '1';
                    spotlight.style.setProperty('--x', `${e.clientX}px`);
                    spotlight.style.setProperty('--y', `${e.clientY}px`);
                });
                
                document.addEventListener('mouseleave', () => {
                     spotlight.style.opacity = '0';
                });
            }

            // Simple Intersection Observer for scroll animations
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                    }
                });
            }, observerOptions);

            document.addEventListener('DOMContentLoaded', () => {
                const hiddenElements = document.querySelectorAll('.animate-on-scroll');
                hiddenElements.forEach((el) => observer.observe(el));
            });
        </script>
	</body>
</html>
